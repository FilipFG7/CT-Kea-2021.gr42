# Module4Group42
module 4 project SC


The database was created in MySQL workbench and it consists of two scripts. Firstly, there is the DDL (Data Definition Language) script, which focuses on creating the actual database, its tables, users etc. Secondly, there is the DML (Data Manipulation Language) script, which focuses on updating, inserting, and deleting records. This database was not only intended to store information, but also to make sense out of it. What we mean by that, the database is able to determine, based on the quiz results, what course should the user preferably choose in order to enter the world of gig economy. 

DDL part:
To start off our script, we used DROP DATABASE IF EXISTS and CREATE DATABASE commands to make sure our database is complete and does not interfere with something we have already created. Command USE is to make sure we are working with the right database and do not accidentally overwrite or delete something we did not intend to change. Subsequently, we started to create the tables using CREATE TABLE. We have used the names of the tables and their corresponding columns exactly as we prepared it in our Relational model in the Software Development part. Same goes for the primary and the foreign keys, which are used to show relations and constraints of the tables. For instance, the column UserID is a primary key of the table Users and is set to be an integer. Furthermore, this column is part of every other table as a foreign key, which is shown through constraint in the DDL script. The reason for this is that we wanted to make sure that whatever table you check, you always know whose data you are looking at. Another primary key is QuizID from the table Quiz_results, although it is written a bit differently using AUTO_INCREMENT and NOT NULL as constraints. This is because we needed to give each row a different value not only because primary key must be unique, but also it makes sense when each row represents one user and their respective results. Similarly, the same procedure happens in the table Course, where the primary key CourseID has the same constraints as QuizID. 

DML part:
We have temporarily inserted some example values using INSERT INTO statement in order to test the functionality of the script.  

Regardless of how the values in the tables Users and Quiz are inserted/uploaded, the script then runs the statement INSERT INTO SELECT in order to populate Quiz_results table with values. UserID is taken as a foreign key from Users table, QuizID is for now AUTO_INCREMENT, NOT NULL. The tricky part was to populate each field points column with the correct values. We used the functions SUM and CASE to achieve this. SUM function returns the total sum of the column Question_points and the CASE sets the condition for which rows to include in the SUM. Important thing was to state FROM which table the values originated and subsequently to use GROUP BY statement to make sure that the sum is done using values for one User at a time.   

The DML script then inserts UserID and QuizID based on their constraints into the Course table. Now we needed to determine which field of the quiz had the highest score, therefore making it the suggested course. We used the function GREATEST() to find the highest value and then inserted it into the Suggested_course column, with the help of the same statements as in the abovementioned paragraph, in order to state from where the values have come from and how to group them. It showed the number of points and not the name of the course. In order to fix it, we decided to JOIN the Course and Quiz_results tables on the UserID, and also to UPDATE the course table by setting the column Suggested_course to a field name. With a purpose of being precise, we used WHERE to set the conditions when the UPDATE should happen. As it is possible for one quiz to have all the three fields with the same number of points, we had to create the UPDATE statement for each possible scenario that could happen

Lastly, our DML script has one more INNER JOIN to make the information appear together. The INNER JOIN happens on UserID from the tables Course and Users and with using SELECT it also shows the FirstName, LastName, Suggested course and CourseID
